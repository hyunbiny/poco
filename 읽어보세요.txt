============================================================
🎵  AIMUSIC DJ Toolkit – Portable Windows Edition  README
============================================================

1.  설치 & 실행
------------------------------------------------------------
①  뽀꼬DJToolkit.zip  압축을 풀면  ‘뽀꼬DJToolkit’  폴더가 생깁니다.  
②  그 안의 *뽀꼬DJ도우미실행.bat**  더블-클릭!  
    ▸ 1 – 2 초 뒤 기본 브라우저가 자동으로 열리며  
      http://localhost:8501  페이지가 뜹니다.  
③  이미 실행 중이면 새 브라우저 탭만 열리고 프로그램은
    중복 실행되지 않습니다.  
④  첫 실행 시 Windows SmartScreen·방화벽 경고가 보이면  
    ▶ **추가 정보** → **실행** 또는 **액세스 허용** 을 눌러 주세요.  
⑤  프로그램 종료  
    ‣ 브라우저 탭을 닫으면 자동으로 종료되며,  
    ‣ 남아 있는 경우 오른쪽 하단 트레이의 Streamlit 아이콘  
      우클릭 → **Quit**.

2.  준비 파일
------------------------------------------------------------
● **음악 폴더**  
   예)  *C:\DJMUSIC\Orchestra\Album\곡.mp3*  
   → 프로그램 첫 화면(1단계)에서 폴더 위치를 지정합니다.

● **CSV 자동 생성**  
   1단계 ▶ **선택한 단계 실행** 버튼으로  
     ▸ music_library_tags.csv  
     ▸ music_library_tags_updated.csv  
     ▸ music_library_tags_bpm.csv  
   이 순서대로 생성됩니다.  
   ➜ 완료되면 **통합 CSV 생성**이 자동으로 실행되어  
     *music_library_full.csv*  하나로 병합됩니다.

● 이미 CSV를 만들어 두셨다면  
   2단계에서 *music_library_full.csv* 만 업로드하면 됩니다.

3.  각 단계 요약
------------------------------------------------------------
① **자동 태그 정리**  
    ‣ 음악 폴더 스캔 → 기본 태그 CSV  
    ‣ tango.info 스크래핑 → 장르·연도·가수  
    ‣ BPM 분석 → CSV에 병합  
    ‣ 통합 CSV 자동 저장  

② **음악 필터링 & 탄다 구성**  
    ‣ 악단·연도·장르·BPM 등 필터  
    ‣ 곡 선택 후 순서 번호 편집  
    ‣ 탄다 이름/종류(탱고·왈츠·밀롱가·꼬르띠나) 지정  
    ‣ TXT·JSON·ZIP 내보내기  
    ‣ **3단계로 보내기** → 스케줄러에 전달  

③ **탄다 스케줄러**  
    ‣ 1 시간당 7칸(꼬르띠나는 바로 뒤 자동 배치)  
    ‣ 드래그&드롭으로 칸/행 추가 및 재배열  
    ‣ 스케줄 저장 → TXT(가상DJ·Traktor 호환) 생성  
    ‣ **AI 의견 받기** → GPT-4o 2 000자 리뷰  

④ **AI DJ리스트 의견**  
    ‣ 외부 TXT/JSON 업로드 → AI가 탄다 흐름·BPM 밸런스 분석  

4.  AI 기능 (선택)
------------------------------------------------------------
• AI 기능을 사용하려면 *DJToolkit_win/.env* 파일을 만들고  
  `OPENAI_API_KEY=sk-···`  형태로 입력하세요.  
• 키가 없으면 AI 관련 버튼이 회색으로 표시됩니다.  

5.  DLL 파일 관련
------------------------------------------------------------
대부분의 Windows 10/11 PC는 VC++ 런타임이 내장되어 있어  
추가 DLL 없이도 동작합니다.  
구형 PC(Win 7/8) 지원이 필요하면 아래 두 파일을  
*DJToolkit_win/python/* 폴더에 넣어 배포하세요.  
   ‣ vcruntime140.dll  
   ‣ msvcp140.dll  

6.  자주 묻는 질문
------------------------------------------------------------
Q. 음악 폴더 구조가 달라도 되나요?  
A. 가능합니다. CSV에 절대경로를 저장하므로 폴더명을
   바꿔도 파일을 정상 인식합니다.

Q. 브라우저에 “연결 거부”가 뜹니다.  
A.  ▸ 백신·방화벽 차단 여부 확인  
    ▸ 트레이 아이콘 → Quit 후 재실행  
    ▸ 다른 앱이 8501 포트를 쓰면 8502 이상으로 자동 전환됩니다.

Q. 프로그램 삭제 후에도 브라우저가 열립니다.  
A. 작업 관리자에서 **뽀꼬DJ도우미실행.bat** 이 아닌  
   **python.exe** 프로세스가 남아 있으면 ‘작업 끝내기’ 해 주세요.

============================================================
Have a great DJ session!  🎧
============================================================
